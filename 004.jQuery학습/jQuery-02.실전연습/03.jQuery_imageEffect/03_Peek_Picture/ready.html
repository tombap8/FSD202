<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title> 이미지 이동을 사용한 pan 효과 </title>
    <script src="jquery-1.7.2.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script>
    $(function(){ /// jQB //////////////////
        
        // 큰 이미지가 움직일 범위는 top, left별로 다름
        // top값 범위: 이미지 height - 박스 height
        // left값 범위: 이미지 width - 박스 width
        
        // 최대이동 top값
        let maxT = 950 - 300;//650
        
        // 최대이동 left값
        let maxL = 1400 - 800;//600
        
        // 랜덤하게 발생한 이동값으로 애니메이션 이동하기 //
        /*//////////////////////////////////////////////
            함수명: movImg
            기능: 범위를 가지는 위치값을 랜덤으로 애니메이션하기
        *///////////////////////////////////////////////
        let movImg = function(){
            
            // 1. 랜덤 top, left값 만들기
            //Math.ceil(Math.random()*최대값)
            //-> 1~최대값 사이의 랜덤수 발생!
            
            // 랜덤 top값 셋팅변수
            let setT = Math.ceil(Math.random()*maxT);
            
            // 랜덤 left값 셋팅변수
            let setL = Math.ceil(Math.random()*maxL);
            
            console.log("top:"+setT+"/left:"+setL);
            
            // 2. 이미지 이동 애니메이션 하기
            // 대상: #bgbox img
            $("#bgbox img").animate({
                top: -setT + "px",
                left: -setL + "px"
            }, 2000, "easeInOutSine");
            
            // 3. 호출시간을 랜덤하게 생성하여 재귀호출하기
            // 재귀호출: 함수가 자기자신을 다시 호출함
            // 사용함수: setTimout(함수명,시간)
            
            // 호출시간 랜덤 생성하기
            let setD = Math.ceil(Math.random()*5)*1000+2000;
            // 1~5사이 랜덤수 X 1000(시간단위) + 최소시간(2000)
            console.log("랜덤시간:"+setD);
            
            // 일정시간후 재귀호출하기!
            setTimeout(movImg, setD);
            
            
            
        }; //// movImg 함수 /////////////
        
        // 테스트하기
        //$("#bgbox").click(movImg);
        
        //최초호출하기
        setTimeout(movImg, 2000);
        
        
    });////////// jQB //////////////////////
    
    
    
    </script>
    <style>
        body {
            margin: 20px auto;
            padding: 0;
            width: 800px;
            background: #192839;
        }

        #bgbox {
            position: relative;
            /*부모자격*/
            padding: 0px;
            overflow: hidden;
            width: 800px;
            height: 300px;
            border: #999 thin solid;
        }

        img {
            position: absolute;
            top: -70%;
            left: -40%;
        }

    </style>
</head>

<body>

    <div id="bgbox">
        <img src="img/bg2.jpg" alt="배경">
    </div>

    <!---------- jQuery code Start ---------->
    <script>


    </script>
</body>

</html>
